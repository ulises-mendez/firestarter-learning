import{u as G,r as o,a as _,R as e,d as T}from"./app.16b08967.js";import{I as i}from"./InputLabel.b63f133f.js";import{I as d}from"./InputError.1c3d6dbb.js";import{L as H}from"./Auth.48cf0e16.js";import{I as u}from"./Icon.30d1d170.js";import{M as p}from"./index.4aec867c.js";import{T as I}from"./TextInput.0f4d1139.js";/* empty css            */import"./index.1a7c34d6.js";import"./Helmet.bb039837.js";import"./index.1d0124c4.js";import"./Logo.f400d5da.js";p.setAppElement("#app");const P=a=>{const{i:n,deleteTopic:b,onClick:r}=a,{title:f,id:g}=a.topic;return e.createElement("div",{className:"bg-white border border-gray-200 flex w-auto p-1 px-2 rounded-lg items-center group cursor-pointer hover:shadow",key:n},e.createElement("div",{className:"rounded-full border border-orange text-orange p-1 mr-2"},e.createElement(u,{name:"close",className:"w-1.5 h-1.5"})),e.createElement("span",null,f))},U=()=>{const{category:a,topics:n}=G().props,[b,r]=o.exports.useState(!1),[f,g]=o.exports.useState(!1),[s,E]=o.exports.useState({description:"",id:0,title:""}),[S,N]=o.exports.useState(!1),[D,x]=o.exports.useState(null),{data:y,setData:v,errors:c,post:M,put:z,processing:B}=_({category_id:a.id,title:"",description:""});function w(){r(!1)}function m(){g(!1),E({description:"",id:0,title:""})}function L(){x(null),N(!1)}function R(t,l){T.Inertia.delete(route("topic.delete",t),{onSuccess:()=>{N(!1)}})}const h=t=>{v(t.target.name,t.target.type==="checkbox"?t.target.checked:t.target.value)},j=t=>{t.preventDefault(),M(route("topic.store"),{onSuccess:()=>{v({category_id:a.id,title:"",description:""}),r(!1)}})},C=t=>{const l=t.target.name,A=t.target.value;E(F=>({...F,[l]:A}))},q=t=>{t.preventDefault(),console.log(s),T.Inertia.put(route("topic.update",s.id),s),m()};function k(t){x(t),N(!0)}function O(t){g(!0),E(t),console.log(t)}return console.log(s),e.createElement(e.Fragment,null,e.createElement("div",{className:"w-full h-full p-2 md:p-8 overflow-y-auto"},e.createElement("div",{className:"mx-auto mb-4 w-full max-w-7xl rounded-lg"},e.createElement("div",{className:"flex flex-wrap justify-between items-center w-full"},e.createElement("div",{className:"px-4 py-2 w-full md:w-auto"},e.createElement("h2",{className:"font-semibold text-xl"},a.title),e.createElement("p",null,"Manage topics of category here.")),e.createElement("div",{className:"px-4 py-2 w-full md:w-auto"},e.createElement("button",{onClick:()=>r(!0),className:"btn-orange"},"Add Topic")))),e.createElement("div",{className:"p-8 flex flex-wrap w-full mx-auto max-w-7xl"},e.createElement("div",{className:"w-full"},e.createElement("h2",{className:"font-semibold mb-2"},"Topics")),e.createElement("div",{className:"flex flex-wrap mb-2"},n.map((t,l)=>e.createElement("div",{className:"mr-2 mb-2",key:l,onClick:()=>k(t.id)},e.createElement(P,{key:l,topic:t})))),e.createElement("div",null,n.map((t,l)=>e.createElement("div",{className:"rounded-lg bg-lightGray mb-4 p-4",key:l},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center"},e.createElement("h2",{className:"font-semibold mr-2"},t.title),e.createElement("button",{onClick:()=>O(t),className:"flex group hover:bg-gray-200 p-2 rounded-lg items-center"},e.createElement(u,{name:"edit",className:"w-3 mr-2"}),e.createElement("span",{className:"text-lightGray group-hover:text-black"},"Edit"))),e.createElement("button",{className:"rounded-full border border-orange text-orange mr-2 w-5 h-5 flex justify-center items-center",onClick:()=>k(t.id)},e.createElement(u,{name:"close",className:"w-2"}))),e.createElement("div",null,e.createElement("p",{className:"text-sm"},t.description))))))),e.createElement(p,{isOpen:b,onRequestClose:w,className:"modal-category",overlayClassName:"modal-category-overlay",contentLabel:"New category"},e.createElement("div",{className:"p-4"},e.createElement("h1",{className:"text-xl font-semibold"},"Create new topic"),e.createElement("form",{className:"mt-4",onSubmit:j},e.createElement("div",{className:"text-left my-2"},e.createElement(i,{forInput:"title",value:"Title"}),e.createElement(I,{type:"text",name:"title",value:y.title,className:"mt-1 block w-full",handleChange:h}),e.createElement(d,{message:c.title,className:"mt-2"})),e.createElement("div",{className:"text-left my-2"},e.createElement(i,{forInput:"description",value:"Description"}),e.createElement("textarea",{cols:4,type:"text",name:"description",value:y.description,className:"border-gray-300 focus:border-orange  focus:ring-orange focus:ring-opacity-50 rounded-md shadow-sm mt-1 block w-full",onChange:h}),e.createElement(d,{message:c.description,className:"mt-2"})),e.createElement("div",{className:"text-right"},e.createElement("button",{className:"btn-orange"},"Submit"))))),e.createElement(p,{isOpen:S,onRequestClose:w,className:"modal-category",overlayClassName:"modal-category-overlay",contentLabel:"New category"},e.createElement("div",null,e.createElement("p",{className:"font-semibold my-2"},"This topic will be deleted"),e.createElement("div",{className:"text-right"},e.createElement("button",{className:"btn-orange mr-2",onClick:()=>R(D)},"Delete"),e.createElement("button",{onClick:L,className:"btn-white"},"Cancel")))),e.createElement(p,{isOpen:f,onRequestClose:m,className:"modal-lesson",overlayClassName:"modal-category-overlay",contentLabel:"New category"},e.createElement("div",null,e.createElement("div",{className:"w-full bg-orange text-white p-3 flex justify-between items-center"},e.createElement("h2",{className:"text-lg font-semibold"},"Edit topic"),e.createElement("button",{onClick:m,className:"cursor-pointer mr-2"},e.createElement(u,{name:"close",className:"w-3 h-3 fill-white"}))),e.createElement("form",{className:"p-4",onSubmit:q},e.createElement("div",{className:"text-left my-2"},e.createElement(i,{forInput:"title",value:"Title"}),e.createElement(I,{type:"text",name:"title",value:s.title,className:"mt-1 block w-full",handleChange:C}),e.createElement(d,{message:c.title,className:"mt-2"})),e.createElement("div",{className:"text-left my-2"},e.createElement(i,{forInput:"description",value:"Description"}),e.createElement("textarea",{cols:4,type:"text",name:"description",value:s.description,className:"border-gray-300 focus:border-orange  focus:ring-orange focus:ring-opacity-50 rounded-md shadow-sm mt-1 block w-full",onChange:C}),e.createElement(d,{message:c.description,className:"mt-2"})),e.createElement("div",{className:"text-right"},e.createElement("button",{className:"btn-white mr-2",onClick:m,type:"button"},"Cancel"),e.createElement("button",{className:"btn-orange"},"Submit"))))))};U.layout=a=>e.createElement(H,{title:"Category",children:a});export{U as default};
