import{u as C,r as s,R as e,e as p}from"./app.16b08967.js";import{T as k}from"./TextInput.0f4d1139.js";import{I as N}from"./InputError.1c3d6dbb.js";import{I as v}from"./InputLabel.b63f133f.js";import{I as d}from"./Icon.30d1d170.js";const I=({collection:c})=>{const{course:i}=C().props,[u,o]=s.exports.useState(c.status||!1);function l(){o(!u);const n=new FormData;n.append("collection",c.id),n.append("course",i.id),p.post(route("course.collection"),n).then(f=>{o(f.data.status)}).catch(f=>console.error(f))}return e.createElement("div",{className:"bg-white border-b p-4 flex-1 flex items-center justify-between overflow-y-auto"},e.createElement("div",{className:"flex"},e.createElement("div",{className:"bg-gray-100 w-20"},e.createElement("img",{src:c.thumbnail,className:"w-full"})),e.createElement("div",{className:"px-2"},e.createElement("p",{className:"font-semibold"},c.title))),e.createElement("div",null,e.createElement("div",null,u==!0?e.createElement("button",{onClick:l,className:"text-orange"},"Remove"):e.createElement("button",{onClick:l,className:"text-black flex items-center"},e.createElement(d,{name:"plus",className:"mr-2 w-3 h-3"}),e.createElement("span",null,"Add")))))},T=({onRequestClose:c})=>{const[i,u]=s.exports.useState([]),[o,l]=s.exports.useState(!1),[n,f]=s.exports.useState({}),[r,E]=s.exports.useState({title:"",description:""});function b(){E({title:"",description:""})}function y(t){t.preventDefault();const a=new FormData;a.append("title",r.title),a.append("description",r.description),p.post(route("collection.post"),a).then(m=>{console.log(m.data.collection),h(),l(!1),b()}).catch(m=>console.log(m))}function g(t){const a=t.target.name,m=t.target.value;E({...r,[a]:m})}function x(){l(!1)}function w(){l(!1),b(),c()}function h(){p.get(route("user.collection")+"?course=1").then(t=>{console.log(t.data),u(t.data)}).catch(t=>console.log(t))}return s.exports.useEffect(()=>{console.log("useEffect"),h()},[]),e.createElement(e.Fragment,null,!o&&e.createElement("div",{className:"w-full h-full flex flex-col items-between justify-between"},e.createElement("div",{className:"w-full bg-orange text-white p-3 flex justify-between items-center"},e.createElement("h2",{className:"text-lg font-semibold"},"Add to collection"),e.createElement("button",{onClick:w,className:"cursor-pointer mr-2"},e.createElement(d,{name:"close",className:"w-3 h-3 fill-white"}))),i.map((t,a)=>e.createElement(I,{key:a,collection:t})),i.length===0&&e.createElement("div",{className:"w-full flex-1 h-full bg-white p-6 overflow-auto flex flex-col relative justify-center"},e.createElement("div",{className:"flex flex-col flex-1 justify-center"},e.createElement("div",{className:"w-full text-center"},e.createElement("h2",{className:"font-semibold text-xl"},"You haven't created a collection yet"),e.createElement("img",{src:"/img/empty/collections.png",className:"w-28 my-8 mx-auto"}),e.createElement("p",{className:"my-2 text-sm"},"Get started by clicking below.")))),e.createElement("div",{className:"w-full bg-white p-4 text-center border-t"},e.createElement("button",{className:"btn-white",onClick:()=>l(!0)},"Create Collection"))),o&&e.createElement(e.Fragment,null,e.createElement("div",{className:"flex justify-between items-center w-full bg-orange text-white p-3"},e.createElement("div",{className:"flex items-center"},e.createElement("button",{onClick:x,className:"cursor-pointer hover:bg-white hover:bg-opacity-20 w-8 h-8 p-1 rounded-full mr-2"},e.createElement(d,{name:"cheveron-left",className:"w-full fill-white "})),e.createElement("h2",{className:"text-lg font-semibold"},"Create a new collection")),e.createElement("button",{onClick:w,className:"mr-2"},e.createElement(d,{name:"close",className:"w-3 h-3 fill-white"}))),e.createElement("form",{onSubmit:y,className:"bg-white"},e.createElement("div",{className:"p-4"},e.createElement(v,{forInput:"title",value:"Title"}),e.createElement(k,{type:"text",name:"title",placeholder:"Enter title",value:r.title,className:"mt-1 block w-full",handleChange:g}),e.createElement(N,{message:n.title,className:"mt-2"}),e.createElement(v,{className:"mt-2",forInput:"description",value:"Description"}),e.createElement("textarea",{type:"text",name:"description",placeholder:"Describe your what's in your collection",value:r.description,className:"my-2 w-full border border-gray-300 rounded-lg text-sm",onChange:g}),e.createElement(N,{message:n.description,className:"mt-2"})),e.createElement("div",{className:"w-full bg-white p-2 text-center border-t flex justify-end"},e.createElement("button",{type:"button",onClick:x,className:"btn-white mr-2"},"Cancel"),e.createElement("button",{className:"btn-orange"},"Create")))))};export{T as A};
