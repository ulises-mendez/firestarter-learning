import{r as K,f as L,c as B,u as q,a as G,R as f,L as H}from"./app.b8d5a71a.js";import"./Logo.14fb0c82.js";import{L as Y}from"./Registration.d4313802.js";import{I as $}from"./InputError.addf27cf.js";/* empty css            */import"./Helmet.f7b542e0.js";import"./index.1d0124c4.js";var R={exports:{}};(function(S,M){(function(T,p){S.exports=p(K.exports)})(typeof self<"u"?self:L,function(T){return function(p){var c={};function i(n){if(c[n])return c[n].exports;var o=c[n]={i:n,l:!1,exports:{}};return p[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=p,i.c=c,i.d=function(n,o,u){i.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:u})},i.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,o){if(1&o&&(n=i(n)),8&o||4&o&&typeof n=="object"&&n&&n.__esModule)return n;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:n}),2&o&&typeof n!="string")for(var a in n)i.d(u,a,function(r){return n[r]}.bind(null,a));return u},i.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(o,"a",o),o},i.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},i.p="",i(i.s=0)}([function(p,c,i){Object.defineProperty(c,"__esModule",{value:!0});var n=Object.assign||function(y){for(var d=1;d<arguments.length;d++){var t=arguments[d];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(y[e]=t[e])}return y},o=function(){function y(d,t){for(var e=0;e<t.length;e++){var l=t[e];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(d,l.key,l)}}return function(d,t,e){return t&&y(d.prototype,t),e&&y(d,e),d}}(),u=i(1),a=j(u),r=j(i(2)),m=j(i(5)),b=i(6);function j(y){return y&&y.__esModule?y:{default:y}}var E={fontFamily:"monospace",MozAppearance:"textfield",borderRadius:"6px",border:"1px solid",boxShadow:"0px 0px 10px 0px rgba(0,0,0,.10)",margin:"4px",paddingLeft:"8px",paddingRight:0,width:"36px",height:"42px",fontSize:"32px",boxSizing:"border-box"},F=function(y){function d(t){(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,d);var e=function(l,s){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||typeof s!="object"&&typeof s!="function"?l:s}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,t));return e.state={input:(0,b.getInputArrayFromProps)(t),value:(0,b.getValueFromProps)(t)},e.textInput=[],e.uuid=(0,b.uuidv4)(),e}return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(d,y),o(d,[{key:"UNSAFE_componentWillReceiveProps",value:function(t){t.value!=null&&t.value!==this.props.value&&this.setState({input:(0,b.getInputArrayFromProps)(t),value:(0,b.getValueFromProps)(t)})}},{key:"handleBlur",value:function(t){this.handleTouch(t.target.value)}},{key:"handleTouch",value:function(t){var e=this.props,l=e.touch,s=e.untouch,x=e.name;typeof l=="function"&&typeof s=="function"&&(t===""?l(x):s(x))}},{key:"handleChange",value:function(t){var e=this,l=this.props,s=l.filterChars,x=l.filterCharsIsWhitelist,h=String(t.target.value);this.props.forceUppercase&&(h=h.toUpperCase()),this.props.type==="number"&&(h=h.replace(/[^\d]/g,""));var C=h=h.split("").filter(function(O){return x?s.includes(O):!s.includes(O)}).join("");if(h!==""){var g=this.state.input.slice(),k=Number(t.target.dataset.id);h.length>1?h.split("").forEach(function(O,_){return k+_<e.props.fields&&(g[k+_]=O),!1}):g[k]=h,g.forEach(function(O,_){e.textInput[_]&&(e.textInput[_].value=O)});var P=Math.min(h.length+k,this.props.fields-1),w=this.textInput[P];w&&(w.focus(),w.select()),C=g.join(""),this.setState({value:g.join(""),input:g})}this.props.onChange&&C&&this.props.onChange(C),this.handleTouch(C)}},{key:"handleKeyDown",value:function(t){var e=Number(t.target.dataset.id),l=this.textInput[e+1],s=this.textInput[e-1],x=void 0,h=void 0;switch(this.props.filterKeyCodes.length>0&&this.props.filterKeyCodes.some(function(C){return C===t.keyCode&&(t.preventDefault(),!0)}),t.keyCode){case 8:t.preventDefault(),this.textInput[e].value="",(x=this.state.input.slice())[e]="",h=x.join(""),this.setState({value:h,input:x}),this.textInput[e].value===""&&s&&(s.focus(),s.select()),this.props.onChange&&this.props.onChange(h);break;case 37:t.preventDefault(),s&&(s.focus(),s.select());break;case 39:t.preventDefault(),l&&(l.focus(),l.select())}this.handleTouch(h)}},{key:"render",value:function(){var t=this,e=this.props,l=e.className,s=e.disabled,x=e.style,h=x===void 0?{}:x,C=e.inputStyle,g=C===void 0?{}:C,k=e.inputStyleInvalid,P=k===void 0?{}:k,w=e.isValid,O=e.type,_=e.autoFocus,A=e.autoComplete,D=e.pattern,U=e.inputMode,V=e.placeholder,W=this.state.input,N={container:n({display:"inline-block"},h),input:w?g:P};return l||Object.keys(g).length!==0||Object.assign(g,n({},E,{color:"black",backgroundColor:"white",borderColor:"lightgrey"})),l||Object.keys(P).length!==0||Object.assign(P,n({},E,{color:"#b94a48",backgroundColor:"#f2dede",borderColor:"#eed3d7"})),s&&Object.assign(N.input,{cursor:"not-allowed",color:"lightgrey",borderColor:"lightgrey",backgroundColor:"#efeff1"}),a.default.createElement("div",{className:(0,m.default)(l,"react-code-input"),style:N.container},W.map(function(z,I){return a.default.createElement("input",{ref:function(v){t.textInput[I]=v},id:t.uuid+"-"+I,"data-id":I,autoFocus:_&&I===0?"autoFocus":"",value:z,key:"input_"+I,type:O==="number"?"text":O,min:0,max:9,style:N.input,autoComplete:A,onFocus:function(v){return v.target.select(v)},onBlur:function(v){return t.handleBlur(v)},onChange:function(v){return t.handleChange(v)},onKeyDown:function(v){return t.handleKeyDown(v)},disabled:s,"data-valid":w,pattern:D,inputMode:U,placeholder:V})}))}}]),d}(u.Component);F.defaultProps={autoComplete:"off",autoFocus:!0,isValid:!0,disabled:!1,forceUppercase:!1,fields:4,value:"",type:"text",filterKeyCodes:[189,190],filterChars:["-","."],filterCharsIsWhitelist:!1},F.propTypes={type:r.default.oneOf(["text","number","password","tel"]),fields:r.default.number,placeholder:r.default.string,value:r.default.string,onChange:r.default.func,name:r.default.string,touch:r.default.func,untouch:r.default.func,className:r.default.string,isValid:r.default.bool,disabled:r.default.bool,style:r.default.object,inputStyle:r.default.object,inputStyleInvalid:r.default.object,autoComplete:r.default.string,autoFocus:r.default.bool,forceUppercase:r.default.bool,filterKeyCodes:r.default.array,filterChars:r.default.array,filterCharsIsWhitelist:r.default.bool,pattern:r.default.string,inputMode:r.default.oneOf(["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"])},c.default=F},function(p,c){p.exports=T},function(p,c,i){p.exports=i(3)()},function(p,c,i){var n=i(4);function o(){}function u(){}u.resetWarningCache=o,p.exports=function(){function a(b,j,E,F,y,d){if(d!==n){var t=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw t.name="Invariant Violation",t}}function r(){return a}a.isRequired=a;var m={array:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:r,element:a,elementType:a,instanceOf:r,node:a,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:u,resetWarningCache:o};return m.PropTypes=m,m}},function(p,c,i){p.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(p,c,i){var n;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var o={}.hasOwnProperty;function u(){for(var a=[],r=0;r<arguments.length;r++){var m=arguments[r];if(m){var b=typeof m;if(b==="string"||b==="number")a.push(m);else if(Array.isArray(m)&&m.length){var j=u.apply(null,m);j&&a.push(j)}else if(b==="object")for(var E in m)o.call(m,E)&&m[E]&&a.push(E)}}return a.join(" ")}p.exports?(u.default=u,p.exports=u):(n=function(){return u}.apply(c,[]))===void 0||(p.exports=n)})()},function(p,c,i){Object.defineProperty(c,"__esModule",{value:!0}),c.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var u=16*Math.random()|0;return(o==="x"?u:3&u|8).toString(16)})};var n=c.getValueFromProps=function(o){var u=o.forceUppercase,a=o.value;return a=a==null?"":a,u?a.toUpperCase():a};c.getInputArrayFromProps=function(o){var u=Math.min(32,o.fields),a=n(o);return Array.from(Array(u)).map(function(r,m){return a[m]||""})}}])})})(R);const J=B(R.exports),Q=({status:S})=>{const{auth:M}=q().props,{data:T,setData:p,errors:c,post:i,processing:n}=G({code:""}),o=r=>{p("code",r)},u={inputStyle:{margin:"2px",MozAppearance:"textfield",width:"60px",borderRadius:"8px",fontSize:"20px",fontWeight:"bold",height:"60px",backgroundColor:"#f0f0f0",color:"#000",border:"1px solid #f5f5f5",boxShadow:"-2px 1px 8px 0px rgba(0,0,0,0.05) inset"},inputStyleInvalid:{margin:"2px",MozAppearance:"textfield",width:"60px",borderRadius:"8px",fontSize:"20px",height:"60px",backgroundColor:"red",color:"#000000",border:"1px solid red"}},a=r=>{r.preventDefault(),i(route("verification.verify"))};return f.createElement(f.Fragment,null,f.createElement("div",{className:"text-gray-800 py-10 text-center"},f.createElement("h2",{className:"text-4xl font-bold"},"Confirm your email"),f.createElement("p",null,"Type in the code we sent to ",M.user.email,".")),f.createElement("form",{onSubmit:a},f.createElement("div",{className:"bg-gray-100 flex justify-center text-sm"},f.createElement(J,{id:"code",name:"code",type:"number",inputmode:"numeric",pattern:"[0-9]*",fields:6,onChange:o,value:T.code,className:"pinCode",...u})),f.createElement("div",null,f.createElement($,{message:c.code,className:"mt-2"})),f.createElement("div",{className:"w-full"},f.createElement("div",{className:"w-full mt-2 text-center text-gray-800"},f.createElement("div",null,f.createElement("span",null,"Didn\u2019t receive the code?"),f.createElement(H,{href:route("verification.send"),method:"post",as:"button",className:"text-orange font-semibold ml-2",type:"button"},"Send again"))),S==="verification-link-sent"&&f.createElement("div",{className:"mb-4 font-semibold text-sm text-green-600"},"A new verification code has been sent to the email address you provided during registration.")),f.createElement("div",{className:"text-center my-4"},f.createElement("button",{type:"submit",className:"btn-orange"},"Confirm"))))};Q.layout=S=>f.createElement(Y,{title:"Verify Email",children:S});export{Q as default};
