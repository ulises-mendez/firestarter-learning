import{R as e,r,e as O,u as Ze,d as ee,a as Mt}from"./app.44955430.js";import{T as jt,W as Xe}from"./TranscriptionFile.f10535d3.js";import{c as Rt}from"./index.3812b6a5.js";import{V as Ft,C as we,S as Ot}from"./react-select-creatable.esm.be3df6d9.js";import{I as x}from"./Icon.ca8c0097.js";import{I as te}from"./InputLabel.63db4971.js";import{I as P}from"./InputError.c30d59a2.js";import{T as K}from"./TextInput.26e5187c.js";import{T as ie}from"./ToggleCheck.a6868ac9.js";import{_ as Pt,f as qt}from"./fileSize.9e1a2969.js";import{t as Ut}from"./TimeFormat.0d93b797.js";import{M as z}from"./index.fe4006f1.js";import{L as Vt}from"./Auth.ce83d642.js";import{M as Bt}from"./MultiFiles.3b8ff7d4.js";import{T as ye}from"./TextArea.49510538.js";import"./Video.2c19889d.js";import"./Helmet.57f1bf76.js";import"./index.1d0124c4.js";import"./use-isomorphic-layout-effect.browser.esm.fc919ca2.js";import"./useStateManager-7e1e8489.esm.5b6d8da9.js";import"./Logo.66b384ea.js";import"video.js";const le=e.createContext(null),$t=()=>{const{selection:s,csrf:m,course:d,sections:b,setSections:k,indexSection:C,setModalLesson:D}=r.exports.useContext(le),w=b[C].lessons.length+1,[T,M]=r.exports.useState({}),[Q,I]=r.exports.useState(1),[c,v]=r.exports.useState({course_id:d.id,chapter_id:s,order:w,title:"",transcription:null,transcription_url:"",url:"",video:""});function S(){I(Q==1?0:1)}function q(){D(!1)}function j(u,p){v({...c,video:u,url:p})}function $(u,p){v({...c,transcription:u,transcription_url:p})}function U(u){const p=u.target.name,_=u.target.value;v({...c,[p]:_})}function Y(u){u.preventDefault();var p=new FormData;p.append("course_id",d.id),p.append("chapter_id",s),p.append("order",c.order),p.append("title",c.title),p.append("video",c.video),p.append("premium",Q),c.transcription!==null&&p.append("transcription",c.transcription),O.post(route("lesson.store"),p,{headers:{"Content-Type":"multipart/form-data"}}).then(_=>{M({});const A=[...b],H=A[C].lessons,R=_.data.lesson;console.log("new",R),A[C].lessons=H.concat(R),console.log(H),k(A),D(!1)}).catch(_=>{console.log(_),M(_.response.data.errors)})}return e.createElement(e.Fragment,null,e.createElement("div",{className:"w-full bg-orange text-white p-3 flex justify-between items-center"},e.createElement("h2",{className:"text-lg font-semibold"},"Add to collection"),e.createElement("button",{onClick:q,className:"cursor-pointer mr-2"},e.createElement(x,{name:"close",className:"w-3 h-3 fill-white"}))),e.createElement("form",{className:"p-4",onSubmit:Y},e.createElement("div",{className:"text-left mb-2"},e.createElement(te,{forInput:"title",value:"Lesson Title"}),e.createElement(K,{type:"text",name:"title",value:c.title,className:"mt-1 block w-full",handleChange:U}),e.createElement(P,{message:T.title,className:"mt-2"})),e.createElement("div",{className:"text-left my-2"},e.createElement(Ft,{handleFileChange:j,src:c.url})),e.createElement("div",null,e.createElement(P,{message:T.video,className:"mt-2"})),e.createElement("div",{className:"text-left my-2"}),e.createElement("div",null,e.createElement(jt,{handleFileChange:$,src:c.transcription})),e.createElement("div",{className:"my-4 flex items-center"},e.createElement("div",null,e.createElement("h4",{className:"font-semibold text-sm mb-2 mr-2"},"Premium lesson:")),e.createElement(ie,{value:Q,onChange:S})),e.createElement("div",{className:"flex my-4 justify-end"},e.createElement("button",{type:"button",onClick:()=>D(!1),className:"btn-white mr-2"},"Cancel"),e.createElement("button",{type:"submit",className:"btn-orange"},"Upload Lesson"))))},Ht=()=>{const{course:s}=Ze().props,{csrf:m,sections:d,setSections:b,setModalSection:k}=r.exports.useContext(le);console.log(d);const[C,D]=r.exports.useState(null),[w,T]=r.exports.useState({course_id:s.id,order:Number(d.length)+1,title:""});function M(){k(!1)}function Q(c){c.preventDefault(),ee.Inertia.post(route("course.section"),{...w},{onSuccess:()=>{console.log(s.chapters),b(s.chapters),k(!1)}})}function I(c){const v=c.target.name,S=c.target.value;T({...w,[v]:S})}return e.createElement("form",{onSubmit:Q},e.createElement("div",{className:"w-full bg-orange text-white p-3"},e.createElement("h2",{className:"text-lg font-semibold"},"New Section or chapter")),e.createElement("div",{className:"p-4"},e.createElement("div",{className:"text-left mb-2"},e.createElement(te,{forInput:"title",value:"Title"}),e.createElement(K,{type:"text",name:"title",value:w.title,className:"mt-1 block w-full",handleChange:I}),e.createElement(P,{message:C,className:"mt-2"})),e.createElement("div",{className:"flex my-4 justify-end"},e.createElement("button",{type:"button",className:"btn-white mr-2",onClick:M},"Cancel"),e.createElement("button",{type:"submit",className:"btn-orange"},"Create section"))))},Ce={option:(s,{isDisabled:m,isFocused:d,isSelected:b})=>({...s,backgroundColor:m?void 0:b||d?"#eb6100":void 0,color:m?"black":b||d?"white":"black"}),multiValue:s=>({...s,backgroundColor:"#eb6100",borderRadius:"4px"}),multiValueLabel:s=>({...s,color:"#fff"}),multiValueRemove:s=>({...s,color:"#fff",":hover":{backgroundColor:"#c93900",color:"white",borderRadius:"4px"}})},Wt=s=>{const{section:m,onRequestClose:d}=s,{indexSection:b,sections:k,setSections:C}=r.exports.useContext(le),[D,w]=r.exports.useState(m.title||""),[T,M]=r.exports.useState({});function Q(c){c.preventDefault();var v=new FormData;v.append("_method","put"),v.append("title",D),O.post(route("chapter.update",m.id),v).then(S=>{console.log(b);const q=S.data.chapter,j=[...k];j[b].title=q.title,C(j),d()}).catch(S=>console.error(S))}function I(c){c.target.name;const v=c.target.value;w(v)}return e.createElement("form",{onSubmit:Q},e.createElement("div",{className:"w-full bg-orange text-white p-3"},e.createElement("h2",{className:"text-lg font-semibold"},"Edit course section")),e.createElement("div",{className:"p-4"},e.createElement("div",{className:"text-left mb-2"},e.createElement(te,{forInput:"title",value:"Title"}),e.createElement(K,{type:"text",name:"title",value:D,className:"mt-1 block w-full",handleChange:I}),e.createElement(P,{message:T.title,className:"mt-2"})),e.createElement("div",{className:"flex my-4 justify-end"},e.createElement("button",{type:"button",className:"btn-white mr-2",onClick:d},"Cancel"),e.createElement("button",{type:"submit",className:"btn-orange"},"Update section"))))};z.setAppElement("*");const Gt=({index:s,lesson:m,section:d})=>{const{sections:b,setSections:k,course:C}=e.useContext(le),[D,w]=e.useState(!1),[T,M]=e.useState(!1),Q=e.useRef(),I=e.useRef(),[c,v]=e.useState(!1),[S,q]=e.useState(!1),[j,$]=e.useState(!1),[U,Y]=e.useState(m.premium);console.log(m.premium);const[u,p]=e.useState({id:m.id,course_id:C.id,chapter_id:0,order:s,title:m.title||"",time:m.time||"",video:m.video||"",transcription:m.transcription||"",videofile:"",transcriptionfile:""});function _(f){const g=f.target.name,L=f.target.value;p({...u,[g]:L})}function A(){Y(U==1?0:1)}const[H,R]=e.useState(u.video.path||""),de=f=>{const g=f.target.files[0],L=URL.createObjectURL(g);R(L),p({...u,videofile:g}),q(!0)},X=f=>{Q.current.click()},ue=function(f){if(f.preventDefault(),f.target.files&&f.target.files[0]){console.log(f.target.files);const g=f.target.files[0],L=URL.createObjectURL(g);p({...u,transcription:L,transcriptionfile:g}),$(!0)}},Z=f=>{I.current.click()};function ae(f){f.preventDefault();var g=new FormData;g.append("title",u.title),g.append("_method","put"),g.append("premium",U),S==!0&&g.append("video",u.videofile),j==!0&&g.append("transcription",u.transcriptionfile),O.post(route("lesson.update",m.id),g,{headers:{"Content-Type":"multipart/form-data"}}).then(L=>{console.log(L);const V=[...b];console.log(V),console.log("section",V[d]);const se=L.data.lesson;V[d].lessons[s]=se,k(V),v(!1)}).catch(L=>{console.log(L)})}function W(){w(!1)}function pe(){O.delete(route("lesson.delete",m.id)).then(f=>{console.log(f);const g=[...b];console.log(g),console.log("section",g[d]),g[d].lessons.splice(s,1),k(g)}).catch(f=>console.log(f))}return e.createElement("div",{className:"w-full p-4 border-b"},e.createElement("div",{onClick:()=>M(!T),className:"cursor-pointer w-full text-left flex items-center justify-between"},e.createElement("div",{className:"flex items-center"},e.createElement(x,{name:"play",className:"w-3 h-3 mr-2 fill-orange"}),e.createElement("h4",null,m.title," ",e.createElement("span",{className:"text-xs text-gray-400"},m.premium==!0?"Premium Lesson":""))),e.createElement("div",{className:"text-gray-400"},Ut(m.video.time))),T&&e.createElement("div",{className:"flex flex-wrap items-start md:p-6"},e.createElement("div",{className:"w-full md:w-1/2 pt-4"},e.createElement("div",{className:"w-full"},e.createElement("div",{style:{boxShadow:"0px -1px 13px 1px rgba(0,0,0,0.05),",WebkitBoxShadow:"0px -1px 13px 1px rgba(0,0,0,0.05)",MozBoxShadow:"0px -1px 13px 1px rgba(0,0,0,0.05)",width:"auto"}},e.createElement("video",{className:"w-full",controls:!0,src:H},e.createElement("track",{src:u.transcription.path,kind:"subtitles",srcLang:"en",label:"English",default:!0})))),e.createElement("div",{className:"my-4 flex justify-center"},e.createElement("button",{type:"button",onClick:()=>w(!0),className:"btn-delete"},"Delete Lesson"))),e.createElement("div",{className:"w-full md:w-1/2 pt-4 md:pt-0 md:px-6 text-left relative"},!c&&e.createElement(e.Fragment,null,e.createElement("div",{className:"absolute right-0"},e.createElement("div",{className:"cursor-pointer p-2 rounded-full bg-gray-50",onClick:()=>v(!0)},e.createElement(x,{name:"edit",className:"w-4 h-4 fill-orange"}))),e.createElement("div",null,e.createElement("p",{className:"text-gray-400"},"Title:"),e.createElement("h4",null,m.title),e.createElement("p",{className:"text-gray-400"},"Video:"),e.createElement("h4",null,m.title),e.createElement("p",{className:"text-gray-400"},"Type:"),e.createElement("h4",null,"mp4"),e.createElement("p",{className:"text-gray-400"},"Transcription:"),e.createElement("h4",null,u.transcription.filename))),c&&e.createElement("div",null,e.createElement(te,{forInput:"title",value:"Title"}),e.createElement(K,{type:"text",name:"title",value:u.title,className:"mt-1 block w-full",handleChange:_}),e.createElement("div",null,e.createElement("label",null,e.createElement("input",{ref:Q,className:"hidden",type:"file",onChange:de,accept:".mov,.mp4"}),e.createElement("div",{className:"w-full flex justify-end my-2"},e.createElement("button",{type:"button",onClick:X,className:"w-full bg-gray-100 rounded-lg flex p-2 px-4 border items-center justify-center text-gray-700"},e.createElement(x,{name:"upload-video",className:"w-4 h-4 mr-2 fill-current"}),e.createElement("span",null,"Change Video"))))),e.createElement("div",null,e.createElement("label",null,e.createElement("input",{ref:I,className:"hidden",type:"file",onChange:ue,accept:".vtt"}),e.createElement("div",{className:"w-full flex justify-end my-2"},e.createElement("button",{type:"button",onClick:Z,className:"bg-gray-100 rounded-lg flex justify-center p-2 px-4 border items-center text-gray-700 w-full"},e.createElement(x,{name:"transcription",className:"w-4 h-4 mr-2 fill-current"}),e.createElement("span",null,"Change Transcription"))))),e.createElement("div",{className:"my-4 flex items-center"},e.createElement("div",null,e.createElement("h4",{className:"font-semibold text-sm mb-2 mr-2"},"Premium lesson:")),e.createElement(ie,{value:U,onChange:A})),e.createElement("div",{className:"text-right"},e.createElement("button",{onClick:()=>v(!1),className:"btn-white mr-2"},"Cancel"),e.createElement("button",{className:"btn-orange",onClick:ae},"Save"))))),e.createElement(z,{isOpen:D,onRequestClose:W,className:"modal-lesson",overlayClassName:"modal-lesson-overlay",contentLabel:"Delete Lesson"},e.createElement("div",{className:"w-full p-4"},e.createElement("div",{className:"text-gray-500"},e.createElement("p",{className:"text-lg font-semibold"},"Are you sure you want to delete this lesson?"),e.createElement("p",null,"This action is irreversible")),e.createElement("div",{className:"w-full flex justify-between"},e.createElement("button",{onClick:()=>w(!1),className:"btn-white mr-2"},"Cancel"),e.createElement("button",{type:"button",onClick:pe,className:"btn-delete"},"Delete Lesson")))))};z.setAppElement("*");const Jt={text:"Jada is providing Mateo with updates on a social media marketing strategy. In order to ensure that words have the same meanings, Jada should make sure she clarifies her",section:"",options:[{value:0,text:"issues",message:"Knowing women will most likely share problems when they want to discuss them rather than fixing them will enable you to avoid misunderstandings"}]},me=s=>{const{text:m,checked:d,onClick:b}=s,k=Rt("w-full p-2 px-4 rounded-lg border focus:ring-orange focus:ring-opacity-10",{"bg-orange text-white":d,"bg-white":!d});return e.createElement("div",{className:"w-full md:w-48 md:mr-2 p-1"},e.createElement("button",{type:"button",className:k,onClick:b},m))},Kt=()=>{const{course:s,courseStatus:m,errors:d,instructors:b,skills:k,csrf:C,categories:D,select_instructors:w,topics:T}=Ze().props,{title:M,level:Q,description:I}=s,[c,v]=r.exports.useState([]),[S,q]=r.exports.useState(s.highlight==1),[j,$]=r.exports.useState([]),[U,Y]=r.exports.useState(null),[u,p]=r.exports.useState(!1),[_,A]=r.exports.useState(!1),[H,R]=r.exports.useState(!1),[de,X]=r.exports.useState(!1),[ue,Z]=r.exports.useState(!1),[ae,W]=r.exports.useState(!1),[pe,f]=r.exports.useState(!1),[g,L]=r.exports.useState(!1),[V,se]=r.exports.useState([]),[B,fe]=r.exports.useState([]),[h,F]=r.exports.useState(Jt||null),[ke,Se]=r.exports.useState([]),[et,ge]=r.exports.useState(null),[ne,G]=r.exports.useState(null),[tt,lt]=r.exports.useState(null),[at,st]=r.exports.useState({title:""}),nt=1,rt=s.released?new Date(s.released):"",{data:N,setData:E,processing:J}=Mt({category_id:s.category.id||"",description:I||"",details:"",highlight:!1,level:Q||"",section:s.chapters||[],skills:s.skills||[],status:s.status||"",title:M||"",thumbnail:"",topics:s.topics||[],publish:rt||"",video:""});function ot(){const t=[...B],l=h.options;var a=!1,n=[];l.map((o,y)=>{o.text==""&&n.push(`Add text to option #${y+1}.`),o.message==""&&n.push(`Add message to option #${y+1}.`),o.value==1&&(a=!0)}),h.text==""&&n.push("Question cannot be empty"),h.options.length<=1&&n.push("Questions must have at least two options."),a==!1&&n.push("Check the answer option."),n.length==0&&(fe(t.concat(h)),F(null)),Se(n)}function ct(){const t=[...h.options];F({...h,options:t.concat({value:0,text:"",message:""})})}function Le(){F(null),Se([])}function mt(){fe([]),f(!1),Le()}function it(t){const l=[...h.options];l.splice(t,1),F({...h,options:l})}function dt(t){const l=[...B];l.splice(t,1),fe(l)}function Qe(){F({text:"",section:"",options:[{value:0,text:"",message:""}]})}function De(t,l){const a=t.target.name,n=t.target.value,o=[...h.options],y=h;o[l][a]=n,F({...y,options:o})}function ut(t,l){t.target.value;const a=[...h.options];a.map((o,y)=>a[y].value=0);const n=h;a[l].value=1,F({...n,options:a})}function Te(){q(t=>!t),E("highlight",!S)}function ze(t){ee.Inertia.post(route("course.instructor"),{course:s.id,instructor:t},{onSuccess:()=>{ae(!1)}})}function pt(){const t=s.released?new Date(s.released):new Date;E("publish",t)}function Ie(){W(!1)}function ft(t,l){he(t),console.log(t),st(l),p(!0)}function _e(t){ee.Inertia.delete(route("course.instructor.d\u0192elete",t))}const[be,Ee]=r.exports.useState(s.chapters||[]),Ae=t=>{E(t.target.name,t.target.type==="checkbox"?t.target.checked:t.target.value)},[gt,he]=r.exports.useState(null),bt=(t,l)=>{he(t),ge(l),R(!0)},[Yt,Et]=r.exports.useState(null),[ht,vt]=r.exports.useState(null),Nt=(t,l)=>{Et(t),vt(l),ge(l),f(!0)},xt=(t,l,a)=>{const n=[...N.section],o=Array.prototype.slice.call(t.target.files);return n[l].lessons[a].attachments=o,E("section",n),o},re=t=>{t.preventDefault(),ee.Inertia.post(route("course.update",s.id),{...N,_method:"put",publish:N.publish!==""?N.publish.toISOString().slice(0,19).replace("T"," "):null})};function wt(){ee.Inertia.post(route("quiz.store"),{newQuiz:B,course:s.id,chapter:ht},{onSuccess:()=>{Ee(s.chapters)}})}const[yt,Me]=r.exports.useState({label:s.category.title||"",id:s.category.id||""});function Ct(t){O.post(route("category.store"),{_token:C,title:t}).then(l=>{console.log(l.data);const a=l.data,n={label:a.title,id:a.id};Me(n),E("category",n.id)}).catch(l=>console.log(l))}function ve(){R(!1),Z(!1),p(!1),setModalQuizSection(!1)}const kt=(t,l)=>{const a=t;$(a);const n=a.map(o=>o.file);E("thumbnail",n),console.log(a)},[je,Re]=r.exports.useState(s.skills.map(t=>({label:t.title,id:t.id}))||[]);function St(t){O.post(route("skill.store"),{_token:C,title:t}).then(l=>{console.log(l.data);const a=l.data,n={label:a.title,id:a.id};Re(y=>[...y,n]);const o=je.map(y=>y.value);E("skills",[...o,n.id])}).catch(l=>console.log(l))}function Lt(t,l){A(!0),lt(l),Y(t)}function Qt(){O.delete(route("chapter.delete",tt)).then(t=>{const l=[...be];l.splice(U,1),Ee(l),A(!1)}).catch(t=>console.log(t))}r.exports.useEffect(()=>{const t=s.thumbnail,{file_name:l,id:a,original_name:n,path:o,size:y}=t;$([{data_url:o,file:{id:a,name:n,size:y}}])},[]);const[Fe,Oe]=r.exports.useState(s.topics.map(t=>({label:t.title,id:t.id}))||[]),[Pe,qe]=r.exports.useState(!1),[Dt,Ue]=r.exports.useState(""),[oe,ce]=r.exports.useState({title:"",category_id:N.category_id,description:""}),Ve=t=>{ce(l=>({...l,[t.target.name]:t.target.value}))},[Be,Tt]=r.exports.useState(""),[$e,He]=r.exports.useState([...w]);function We(t){if(Tt(t),t){const l=w.filter(a=>{const n=t.toLowerCase(),o=a.name.toLowerCase(),y=a.email.toLowerCase();return o.includes(n)||y.includes(n)});console.log(l),He(l)}t||He(w)}function zt(t){qe(!0),ce({title:t,category_id:N.category_id,description:""})}function It(){O.post(route("topic.store"),{_token:C,title:oe.title,category_id:N.category_id,description:oe.description}).then(t=>{const l=t.data,a={label:l.title,id:l.id},n=Fe.map(o=>o.value);qe(!1),Oe(o=>[...o,a]),E("topics",[...n,a.id]),ce({title:"",category_id:"",description:""}),Ue("")}).catch(t=>{var l;return Ue((l=t.response)==null?void 0:l.data.message)})}function Ge(){E("publish",s.released?new Date(s.released):""),X(!1)}function Je(){X(!1),re(document.createEvent("Event"))}function Ke(){E("publish",""),re(document.createEvent("Event"))}function _t(t){se(t),L(!0)}function Ye(){L(!1),se([])}return e.createElement(le.Provider,{value:{selection:et,setSelection:ge,course:s,csrf:C,sections:be,setSections:Ee,setModalSection:Z,setModalLesson:R,indexSection:gt,setIndexSection:he}},e.createElement("form",{className:"",onSubmit:re},e.createElement("div",{className:"w-full bg-gray-100 sticky top-0 flex justify-end p-2 border-b border-gray-200 z-10"},N.publish?e.createElement(e.Fragment,null,e.createElement("button",{className:"p-4 bg-white rounded-lg mr-2",disabled:J,onClick:Ke,type:"button"},"Switch to draft"),e.createElement("button",{className:`btn-orange mr-2 ${J&&"opacity-25"}`,disabled:J,onClick:re,type:"submit"},"Update"),e.createElement("button",{className:"p-4 border border-gray-200 hover:bg-gray-200 rounded-lg",onClick:()=>W(!0),type:"button"},e.createElement(x,{className:"w-4 h-6",name:"settings"}))):e.createElement(e.Fragment,null,e.createElement("button",{type:"submit",className:"p-4 bg-white rounded-lg mr-2",disabled:J},"Save draft"),e.createElement("button",{className:"btn-orange",disabled:J,onClick:()=>X(!0),type:"button"},"Publish"))),e.createElement("div",{className:"max-w-4xl mx-auto p-4"},e.createElement("div",{className:"text-left mb-2 bg-orange rounded-lg p-3"},e.createElement(K,{type:"text",name:"title",value:N.title,className:"text-white text-2xl p-2 bg-orange border-none w-full focus:border-none placeholder-white focus:ring-0 shadow-none",isFocused:!0,handleChange:Ae,placeholder:"Your course title goes here..."}),e.createElement(P,{message:d.title,className:"mt-2"})),e.createElement("div",{className:"flex items-center mb-4"},e.createElement("div",{className:"h-4 w-2 rounded-r bg-orange mr-2"}),e.createElement("h2",{className:"font-semibold"},"Description")),e.createElement("div",{className:"text-left my-4 bg-gray-100 rounded-lg p-3"},e.createElement("textarea",{className:"w-full bg-gray-100 focus:ring-0 border-none",onChange:Ae,name:"description",rows:8,value:N.description})),e.createElement("div",{className:"w-full"},e.createElement("div",{className:"flex items-center mb-4"},e.createElement("div",{className:"h-4 w-2 rounded-r bg-orange mr-2"}),e.createElement("h2",{className:"font-semibold"},"Level")),e.createElement("div",{className:"flex flex-wrap mb-4 bg-gray-100 rounded-lg p-2"},e.createElement(me,{checked:N.level=="All level",text:"All level",onClick:()=>E("level","All level")}),e.createElement(me,{checked:N.level=="Begginer",text:"Begginer",onClick:()=>E("level","Begginer")}),e.createElement(me,{checked:N.level=="Intermediate",text:"Intermediate",onClick:()=>E("level","Intermediate")}),e.createElement(me,{checked:N.level=="Expert",text:"Expert",onClick:()=>E("level","Expert")}))),e.createElement("div",{className:"w-full mb-4"},e.createElement("div",{className:"flex items-center mb-4"},e.createElement("div",{className:"h-4 w-2 rounded-r bg-orange mr-2"}),e.createElement("h2",{className:"font-semibold"},"Category")),e.createElement("div",{className:"bg-gray-100 rounded-lg p-4"},e.createElement(we,{onCreateOption:t=>{Ct(t)},value:yt,options:D.map(t=>({label:t.title,value:t.id})),onChange:t=>{Me(t),E("category_id",t.value),ce(l=>({...l,category_id:t.value}))},isMulti:!1,styles:Ce})),e.createElement("div",null,e.createElement(P,{message:d.category,className:"mt-2"}))),!Pe&&e.createElement("div",{className:"w-full mb-4"},e.createElement("div",{className:"flex items-center mb-4"},e.createElement("div",{className:"h-4 w-2 rounded-r bg-orange mr-2"}),e.createElement("h2",{className:"font-semibold"},"Topics related to course")),e.createElement("div",{className:"bg-gray-100 rounded-lg p-4"},e.createElement(we,{onCreateOption:t=>{zt(t)},value:Fe.map(t=>({label:t.label,value:t.id})),options:T.map(t=>({label:t.title,value:t.id})),onChange:t=>{Oe(t.map(l=>({label:l.label,id:l.value}))),E("topics",t.map(l=>({id:l.value,title:l.label})))},isMulti:!0,styles:Ce})),e.createElement("div",null,e.createElement(P,{message:d.topics,className:"mt-2"}))),Pe&&e.createElement("div",{className:"w-full mb-4"},e.createElement("div",{className:"flex items-center mb-4"},e.createElement("div",{className:"h-4 w-2 rounded-r bg-orange mr-2"}),e.createElement("h2",{className:"font-semibold"},"Create new topic")),e.createElement("div",{className:"bg-gray-100 p-4 mb-4 rounded-lg"},e.createElement(K,{type:"text",name:"title",value:oe.title,className:"mt-1 block w-full",handleChange:Ve,placeholder:"Topic Title"}),e.createElement("textarea",{name:"description",value:oe.description,className:"mt-2 block w-full border border-gray-300 focus:border-orange  focus:ring-orange focus:ring-opacity-50 rounded-md shadow-sm",onChange:Ve,placeholder:"Topic description",rows:6})),e.createElement("div",null,e.createElement(P,{message:Dt,className:"mt-2"})),e.createElement("div",{className:"flex justify-end"},e.createElement("button",{type:"button",className:"btn-orange mr-2",onClick:It},"Save"),e.createElement("button",{type:"button",className:"btn-white"},"Cancel"))),e.createElement("div",{className:"w-full"},e.createElement("div",{className:"flex items-center mb-4"},e.createElement("div",{className:"h-4 w-2 rounded-r bg-orange mr-2"}),e.createElement("h2",{className:"font-semibold"},"Skills that students will learn")),e.createElement("div",{className:"bg-gray-100 rounded-lg p-4"},e.createElement(we,{onCreateOption:t=>{St(t)},value:je.map(t=>({label:t.label,value:t.id})),options:k.map(t=>({label:t.title,value:t.id})),onChange:t=>{Re(t.map(l=>({label:l.label,id:l.value}))),E("skills",t.map(l=>({id:l.value,title:l.label})))},isMulti:!0,styles:Ce}))),e.createElement("div",{className:"w-full my-4"},e.createElement("div",{className:"flex items-center mb-4"},e.createElement("div",{className:"h-4 w-2 rounded-r bg-orange mr-2"}),e.createElement("h2",{className:"font-semibold"},"Cover Image")),e.createElement("div",null,e.createElement(Pt,{multiple:!1,value:j,onChange:kt,maxNumber:nt,dataURLKey:"data_url"},({imageList:t,onImageUpload:l,onImageRemoveAll:a,onImageUpdate:n,onImageRemove:o,isDragging:y,dragProps:At})=>e.createElement("div",{className:"w-full rounded-xl overflow-hidden bg-gray-100 border border-gray-200"},e.createElement("div",{className:"w-full p-4 flex justify-between items-center"},e.createElement("div",{className:""},e.createElement("h2",null,"Image")),e.createElement("div",{className:"w-full flex justify-end"},e.createElement("button",{type:"button",onClick:n,className:"p-4 mr-2 bg-white text-orange rounded-full border border-blue"},e.createElement(x,{className:"fill-current w-3 h-3",name:"images"})),e.createElement("button",{type:"button",onClick:a,className:"bg-white p-4 text-orange rounded-full border border-red"},e.createElement(x,{className:"fill-current w-3 h-3",name:"close"})))),e.createElement("div",{className:"w-full bg-white p-4 border-t",...At},t.length==0?e.createElement("div",{className:"w-full"},e.createElement("div",{className:"w-full flex justify-center"},e.createElement("div",{onClick:l,className:"p-8 text-gray-400 bg-gray-100 rounded-full"},e.createElement(x,{className:"fill-current w-8",name:"image"}))),e.createElement("p",{className:"text-center text-gray-400 mt-4 select-none"},"Drag and drop an image, or ",e.createElement("span",{className:"text-orange",onClick:l},"Browse")),e.createElement("p",{className:"text-center"},"1200 x 675 or higher recommended. Max 2MB (png, jpg )")):null,t.map((Ne,xe)=>e.createElement("div",{key:xe,className:"w-full flex items-center justify-between flex-wrap mb-2"},e.createElement("div",{className:"w-full md:w-1/3 flex items-center"},e.createElement("img",{src:Ne.data_url,alt:"",width:"100"}),e.createElement("div",{className:"p-2"},e.createElement("p",{className:"font-semibold"},Ne.file.name))),e.createElement("div",{className:"w-full md:w-1/3 flex items-center justify-center"},e.createElement("div",{className:"bg-blue p-2 px-6 rounded-lg"},e.createElement("p",{className:"text-white"},qt(Ne.file.size,!0)))),e.createElement("div",{className:"w-full md:w-1/3 flex items-center justify-end"},e.createElement("button",{type:"button",onClick:()=>n(xe),className:"p-4 mr-2 text-blue rounded-full border border-blue"},e.createElement(x,{className:"fill-current w-3 h-3",name:"images"})),e.createElement("button",{type:"button",onClick:()=>o(xe),className:"p-4 text-red rounded-full border border-red"},e.createElement(x,{className:"fill-current w-3 h-3",name:"close"})))))))))),e.createElement("div",{className:"w-full"},e.createElement("div",{className:"flex items-center mb-4"},e.createElement("div",{className:"h-4 w-2 rounded-r bg-orange mr-2"}),e.createElement("h2",{className:"font-semibold"},"Content")),s.chapters.map((t,l)=>e.createElement(Ot,{key:l,index:l,title:t.title,collapse:l>s.chapters.length,lessons:t.lessons.length},e.createElement("div",{key:l,className:"mb-6 p-4 "},t.lessons.map((a,n)=>e.createElement(Gt,{key:n,section:l,index:n,lesson:a})),e.createElement("div",null,t.quiz&&e.createElement("div",{className:"text-left pt-4"},e.createElement("button",{className:"btn-black",onClick:()=>_t(t.quiz.questions),type:"button"},"View Quiz"))),e.createElement("div",{className:"flex items-center justify-between mt-6"},e.createElement("button",{type:"button",className:"bg-white p-4 hover:text-orange text-gray-600 hover:bg-gray-100 rounded-lg flex items-center",onClick:()=>Lt(l,t.id)},e.createElement(x,{name:"trash",className:"w-4 h-4 fill-current mr-2"}),e.createElement("span",null,"Delete Section")),e.createElement("div",{className:"flex"},e.createElement("button",{typeof:"button",className:"bg-gray-100 p-4 rounded-lg mr-2",onClick:()=>ft(l,t)},"Edit Section"),e.createElement("button",{type:"button",className:"bg-black p-4 rounded-lg text-white mr-2",onClick:()=>bt(l,t.id)},"Add Lesson"),e.createElement("button",{type:"button",className:"bg-black p-4 rounded-lg text-white",onClick:()=>Nt(l,t.id)},"Add Quiz")))))),be.length===0&&e.createElement("div",{className:"bg-gray-100 p-4 text-center rounded-lg"},"No sections were added"),e.createElement("div",{className:"my-4 py-2 text-right"},e.createElement("button",{type:"button",className:"bg-gray-100 p-4 rounded-lg",onClick:()=>Z(!0)},"Add Section"))),e.createElement("div",null,"Attatchments",e.createElement(Bt,{uploads:c,handleFileChange:t=>xt(t,i,i2)})))),e.createElement(z,{isOpen:ue,onRequestClose:ve,className:"modal-lesson",overlayClassName:"modal-lesson-overlay",contentLabel:"New Section"},e.createElement(Ht,null)),e.createElement(z,{isOpen:H,className:"modal-lesson",overlayClassName:"modal-lesson-overlay",contentLabel:"New Lesson"},e.createElement($t,null)),e.createElement(z,{isOpen:u,onRequestClose:ve,className:"modal-lesson",overlayClassName:"modal-lesson-overlay",contentLabel:"Edit Section"},e.createElement(Wt,{section:at,onRequestClose:ve})),e.createElement(z,{isOpen:_,onRequestClose:()=>A(!1),className:"modal-lesson",overlayClassName:"modal-lesson-overlay",contentLabel:"Delete Section"},e.createElement("div",{className:"w-full p-4"},e.createElement("div",{className:"text-gray-500"},e.createElement("p",{className:"text-lg font-semibold"},"Are you sure you want to delete this section?"),e.createElement("p",null,"This action is irreversible")),e.createElement("div",{className:"w-full flex justify-end"},e.createElement("button",{className:"btn-white mr-2",onClick:()=>A(!1)},"Cancel"),e.createElement("button",{className:"btn-red",onClick:Qt},"Delete")))),e.createElement(z,{isOpen:de,onAfterOpen:pt,onRequestClose:Ge,className:"modal-publish",overlayClassName:"modal-publish-overlay",contentLabel:"Publish"},e.createElement("div",{className:"flex"},e.createElement("div",{className:"p-2 w-1/2"},e.createElement("button",{onClick:Je,className:"bg-orange p-2 text-white w-full rounded-md"},"Publish")),e.createElement("div",{className:"p-2 w-1/2"},e.createElement("button",{className:"border p-2 w-full rounded-md",onClick:Ge},"Cancel"))),e.createElement("div",{className:"p-2"},e.createElement("h4",{className:"font-semibold"},"Are you ready to publish?"),e.createElement("p",{className:"text-sm"},"Double-check your settings before publishing.")),e.createElement("div",{className:"flex items-center p-2"},e.createElement("div",{className:"h-4 w-2 rounded-r bg-orange mr-2"}),e.createElement("h2",{className:"font-semibold"},"Highlight Course")),e.createElement("div",{className:"px-4"},e.createElement(ie,{value:S,onChange:Te})),e.createElement("div",{className:"p-2"},e.createElement("div",{className:"flex items-center p-2"},e.createElement("div",{className:"h-4 w-2 rounded-r bg-orange mr-2"}),e.createElement("h2",{className:"font-semibold"},"Publish date")),e.createElement("div",null,e.createElement(Xe,{dateFormat:"dd/MM/yyyy",selected:N.publish,minDate:new Date(2e3,1,1),onChange:t=>E("publish",t),placeholderText:"dd/mm/yyyy",className:"w-full border-gray-200 rounded-md"}))),e.createElement("div",{className:"flex items-center p-2"},e.createElement("div",{className:"h-4 w-2 rounded-r bg-orange mr-2"}),e.createElement("h2",{className:"font-semibold"},"Instructors")),e.createElement("div",{className:"p-2"},e.createElement("div",{className:"relative p-2 h-10"},ne&&e.createElement("div",{className:"fixed flex h-full w-full top-0 left-0"},e.createElement("div",{className:"h-full flex-1",onClick:()=>{W(!1),G(!1)}}),e.createElement("div",{className:"w-full h-full max-w-[400px]",onClick:()=>{G(!1)}})),e.createElement("input",{className:"absolute top-0 left-0 w-full border border-gray-200 rounded-md p-2 z-1",placeholder:"Search instructor",value:Be,onClick:()=>{G(!0)},onChange:t=>We(t.target.value)}),ne&&e.createElement("div",{className:"direction-left absolute bg-white z-10 border rounded w-full top-14 left-0 max-h-72 overflow-hidden overflow-y-auto"},$e.map(({avatar:t,email:l,name:a,value:n},o)=>e.createElement("div",{key:o,className:"flex p-2 w-full hover:bg-lightGray"},e.createElement("div",null,e.createElement("img",{src:t,className:"rounded-full w-12"})),e.createElement("div",{className:"p-2 flex-1"},e.createElement("h3",{className:"font-semibold"},a),e.createElement("p",{className:"text-xs"},l)),e.createElement("div",null,e.createElement("button",{className:"border p-2 px-4 rounded-lg hover:bg-orange hover:text-white",type:"button",onClick:()=>ze(n)},"Add"))))))),e.createElement("div",{className:"p-2"},e.createElement("h4",null,b.length," instructors in this course"),b.map((t,l)=>e.createElement("div",{key:l,className:"flex my-4"},e.createElement("div",null,e.createElement("img",{src:t.avatar,className:"rounded-full w-12"})),e.createElement("div",{className:"p-2 flex-1"},e.createElement("h3",{className:"font-semibold"},t.name),e.createElement("p",{className:"text-xs"},t.email)),e.createElement("div",null,e.createElement("button",{className:"border hover:bg-orange hover:text-white p-2 rounded-lg",onClick:()=>_e(t.id),type:"button"},"Remove")))))),e.createElement(z,{isOpen:ae,onRequestClose:Ie,className:"modal-publish",overlayClassName:"modal-publish-overlay",contentLabel:"Settings"},e.createElement("div",{className:"flex"},e.createElement("div",{className:"p-2 w-1/2"},e.createElement("button",{onClick:Je,className:"bg-orange p-2 text-white w-full rounded-md"},"Update")),e.createElement("div",{className:"p-2 w-1/2"},e.createElement("button",{className:"border p-2 w-full rounded-md",onClick:Ie},"Cancel"))),e.createElement("div",{className:"flex items-center p-2"},e.createElement("div",{className:"h-4 w-2 rounded-r bg-orange mr-2"}),e.createElement("h2",{className:"font-semibold"},"Highlight Course")),e.createElement("div",{className:"px-4"},e.createElement(ie,{value:S,onChange:Te})),e.createElement("div",{className:"flex items-center p-2"},e.createElement("div",{className:"h-4 w-2 rounded-r bg-orange mr-2"}),e.createElement("h2",{className:"font-semibold"},"Publish date")),e.createElement("div",{className:"p-2"},e.createElement("div",null,e.createElement(Xe,{dateFormat:"dd/MM/yyyy",selected:N.publish,minDate:new Date(2e3,1,1),onChange:t=>E("publish",t),placeholderText:"dd/mm/yyyy",className:"w-full border-gray-200 rounded-md"}))),e.createElement("div",{className:"flex items-center p-2"},e.createElement("div",{className:"h-4 w-2 rounded-r bg-orange mr-2"}),e.createElement("h2",{className:"font-semibold"},"Instructors")),e.createElement("div",{className:"p-2"},e.createElement("div",{className:"relative p-2 h-10"},ne&&e.createElement("div",{className:"fixed flex h-full w-full top-0 left-0"},e.createElement("div",{className:"h-full flex-1",onClick:()=>{W(!1),G(!1)}}),e.createElement("div",{className:"w-full h-full max-w-[400px]",onClick:()=>{G(!1)}})),e.createElement("input",{className:"absolute top-0 left-0 w-full border border-gray-200 rounded-md p-2 z-1",placeholder:"Search instructor",value:Be,onClick:()=>{G(!0)},onChange:t=>We(t.target.value)}),ne&&e.createElement("div",{className:"direction-left absolute bg-white z-10 border rounded w-full top-14 left-0 max-h-72 overflow-hidden overflow-y-auto"},$e.map(({avatar:t,email:l,name:a,value:n},o)=>e.createElement("div",{key:o,className:"flex p-2 w-full hover:bg-lightGray"},e.createElement("div",null,e.createElement("img",{src:t,className:"rounded-full w-12"})),e.createElement("div",{className:"p-2 flex-1"},e.createElement("h3",{className:"font-semibold"},a),e.createElement("p",{className:"text-xs"},l)),e.createElement("div",null,e.createElement("button",{className:"border p-2 px-4 rounded-lg hover:bg-orange hover:text-white",type:"button",onClick:()=>ze(n)},"Add"))))))),e.createElement("div",{className:"p-2"},e.createElement("h4",null,b.length," instructors in this course"),b.map((t,l)=>e.createElement("div",{key:l,className:"flex my-4"},e.createElement("div",null,e.createElement("img",{src:t.avatar,className:"rounded-full w-12"})),e.createElement("div",{className:"p-2 flex-1"},e.createElement("h3",{className:"font-semibold"},t.name),e.createElement("p",{className:"text-xs"},t.email)),e.createElement("div",null,e.createElement("button",{className:"border hover:bg-orange hover:text-white p-2 rounded-lg",onClick:()=>_e(t.id),type:"button"},"Remove"))))),e.createElement("button",{className:"p-4 bg-white rounded-lg mr-2",disabled:J,onClick:Ke,type:"button"},"Switch to draft")),e.createElement(z,{isOpen:pe,className:"modal-lesson",overlayClassName:"modal-lesson-overlay",contentLabel:"New Lesson"},e.createElement("div",{className:"w-full bg-orange text-white p-3 flex justify-between items-center"},e.createElement("h2",{className:"text-lg font-semibold"},"Create Quiz"),e.createElement("button",{onClick:mt,className:"cursor-pointer mr-2"},e.createElement(x,{name:"close",className:"w-3 h-3 fill-white"}))),e.createElement("div",{className:"w-full bg-white p-4"},B.map((t,l)=>e.createElement("div",{key:l,className:"border p-2 rounded-lg mb-2"},e.createElement("div",{className:"flex justify-between"},e.createElement("h4",{className:"text-xs"},"Question ",l+1," of ",B.length),e.createElement("button",{onClick:()=>dt(l)},e.createElement(x,{className:"w-4 h-4 fill-gray-400 hover:fill-orange",name:"trash"}))),e.createElement("h3",{className:"font-semibold text-sm mb-2"},t.text),e.createElement("div",null,t.options.map((a,n)=>e.createElement("div",{key:n},e.createElement("div",{className:"flex items-start mb-2"},e.createElement("div",{className:`w-5 h-5  rounded-full mr-1 ${a.value==!0?"bg-white border-4 border-orange":"border bg-gray-100"}`}),e.createElement("div",{className:"flex-1"},e.createElement("p",{className:`text-sm ${a.value==!0?"text-orange":"text-gray-600"}`},a.text),e.createElement("p",{className:"text-xs text-gray-500"},a.message)))))))),B.length===0&&e.createElement("div",{className:"text-center"},e.createElement("h3",{className:"font-semibold text-sm mb-4"},"Quiz is empty, start creating a new question"),!h&&e.createElement("div",{className:"text-center"},e.createElement("button",{onClick:Qe,className:"btn-black"},"Create Question")))),h&&e.createElement("div",{className:"p-4 w-full"},e.createElement(te,{className:"mb-1 text-sm",forInput:"question",value:"New Question"}),e.createElement(ye,{className:"w-full",placeholder:"Type your question here...",handleChange:t=>F({...h,text:t.target.value}),value:h.text}),e.createElement("p",{className:"text-xs text-gray-500 my-2 uppercase"},"OPTIONS"),e.createElement("div",{className:" rounded-lg"},h.options.map((t,l)=>e.createElement("div",{key:l,className:"flex items-start w-full mb-2"},e.createElement("div",null,e.createElement("input",{checked:t.value,type:"radio",name:"val",onChange:a=>ut(a,l),className:"checked:bg-orange focus-checked: active:bg-orange hover:bg-orange focus:bg-orange focus-visible:bg-orange w-6 h-6 rounded-full border border-gray-200 mr-2 focus:ring-orange",tooltip:"Check correct option",flow:"right"}),e.createElement("div",{className:"mt-3 w-full pl-1"},e.createElement("button",{className:"hover:bg-gray-100 hover:text-orange text-gray-400  rounded-full",onClick:()=>it(l),tooltip:"Delete option",flow:"right"},e.createElement(x,{className:"w-4 h-4 fill-current",name:"trash"})))),e.createElement("div",{className:"flex-1"},e.createElement(ye,{className:"w-full mb-2",handleChange:a=>De(a,l),name:"text",placeholder:"Text",value:t.text}),e.createElement(ye,{className:"w-full",handleChange:a=>De(a,l),name:"message",placeholder:"Message",value:t.message})))),e.createElement("div",{className:"w-full text-right"},ke.length>0&&e.createElement("p",{className:"text-red-600"},"Check the following errors"),e.createElement("ul",{className:"list-disc text-red-600"},ke.map((t,l)=>e.createElement("li",{key:l,className:"text-red-600 text-sm"},t)))),e.createElement("div",{className:"flex justify-between my-2 text-left w-full"},e.createElement("button",{onClick:ct,className:"border border-orange font-semibold p-2 text-orange rounded-lg text-xs hover:bg-orange hover:text-white"},"Add Option"),e.createElement("div",null,e.createElement("button",{className:"border border-orange font-semibold p-2 text-orange rounded-lg text-xs hover:bg-orange hover:text-white mr-2",onClick:Le},"Cancel New Question"),e.createElement("button",{className:"border border-orange bg-orange font-semibold p-2 rounded-lg text-white text-xs",onClick:ot},"Add Question"))))),!h&&B.length>0&&e.createElement("div",{className:"text-right p-4"},e.createElement("button",{onClick:Qe,className:"btn-black"},"Create Question")),e.createElement("div",{className:"my-4"},e.createElement("div",{className:"w-full text-center"},e.createElement("button",{onClick:wt,className:"btn-orange"},"Save Quiz")))),e.createElement(z,{isOpen:g,onRequestClose:Ye,className:"modal-lesson",overlayClassName:"modal-lesson-overlay",contentLabel:"Quiz Info"},e.createElement("div",{className:"w-full bg-orange text-white p-3 flex justify-between items-center"},e.createElement("h2",{className:"text-lg font-semibold"},"Chapter Quiz"),e.createElement("button",{onClick:Ye,className:"cursor-pointer mr-2"},e.createElement(x,{name:"close",className:"w-3 h-3 fill-white"}))),e.createElement("div",{className:"w-full bg-white p-4"},V.map((t,l)=>e.createElement("div",{key:l,className:"border p-2 rounded-lg mb-2"},e.createElement("div",{className:"flex justify-between"},e.createElement("h4",{className:"text-xs"},"Question ",l+1," of ",V.length)),e.createElement("h3",{className:"font-semibold text-sm mb-2"},t.text),e.createElement("div",null,t.options.map((a,n)=>e.createElement("div",{key:n},e.createElement("div",{className:"flex items-start mb-2"},e.createElement("div",{className:`w-5 h-5  rounded-full mr-1 ${a.value==!0?"bg-white border-4 border-orange":"border bg-gray-100"}`}),e.createElement("div",{className:"flex-1"},e.createElement("p",{className:`text-sm ${a.value==!0?"text-orange":"text-gray-600"}`},a.text),e.createElement("p",{className:"text-xs text-gray-500"},a.message)))))))),e.createElement("div",{className:"w-full text-right"},e.createElement("button",{className:"btn-white"},"Edit Quiz")))))};Kt.layout=s=>e.createElement(Vt,{title:"Edit Course",children:s});export{Kt as default};
